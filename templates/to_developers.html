{% extends "base.html" %}

{% block content %}
<a style="margin-left: 1%;" data-toggle="tooltip" data-placement="bottom" title="Вернуться на начальную страницу" href="/" class="btn btn-info">
        На главную</a>
<h1 style="text-align: center">Для разработчиков</h1>

<div style="background-color: #fffaf0;margin-left: auto; margin-right: auto; max-width: 72%">
    <h4>Возможности API</h4>

    <table class="table table-sm table-inverse" style="margin-left: 2%;width: 68%">
  <thead>
    <tr class="table-active">
      <th style="width:50%">Действие</th>
      <th style="width:20%">Метод</th>
      <th style="width:30%">Адрес</th>
    </tr>
  </thead>
  <tbody>
        <tr>
            <td>Создать пользователя</td>
            <td>post</td>
            <td>/api/users</td>
        </tr>
        <tr>
            <td>Изменить пользователя</td>
            <td>put</td>
            <td>/api/users/=>user_id<=</td>
        </tr>
        <tr>
            <td>Удалить пользователя</td>
            <td>delete</td>
            <td>/api/users/=>user_id<=</td>
        </tr>
        <tr>
            <td>Получить все данные об одном пользователе</td>
            <td>get</td>
            <td>/api/users/=>user_id<=</td>
        </tr>
        <tr>
            <td>Получить все данные обо всех пользователях</td>
            <td>get</td>
            <td>/api/users</td>
        </tr>
        <tr>
            <td><br></td>
            <td> </td>
            <td> </td>
        </tr>
        <tr>
            <td>Получить все данные об одном расписании</td>
            <td>get</td>
            <td>/api/timetable/=>timetable_id<=</td>
        </tr>
        <tr>
            <td>Получить все данные обо всех расписаниях</td>
            <td>get</td>
            <td>/api/timetable</td>
        </tr>
        <tr>
            <td>Создать новое расписание</td>
            <td>post</td>
            <td>/api/timetable</td>
        </tr>
        <tr>
            <td>Измненить существующее расписание</td>
            <td>put</td>
            <td>/api/timetable/=>timetable_id<=</td>
        </tr>
        <tr>
            <td>Удалить существующее расписание</td>
            <td>delete</td>
            <td>/api/timetable/=>timetable_id<=</td>
        </tr>
        <tr>
            <td>Дублировать расписание</td>
            <td>put</td>
            <td>/api/timetable_duplicate/=>timetable_id<=</td>
        </tr>
        <tr>
            <td><br></td>
            <td> </td>
            <td> </td>
        </tr>
        <tr>
            <td>Получить всю базу продуктов</td>
            <td>get</td>
            <td>/api/db/products</td>
        </tr>


  </tbody>
</table>

    <h4>Подробная инструкция</h4>
    <ul>
        <li><b>Получить все данные обо всех пользователях</b></li>
        <ul>
            <li>Адрес: /api/users</li>
            <li>Метод: get</li>
            <li>Формат ответа в json: <div style="max-width: 90%">{'users': [<br>{'age': 23, 'email': 'test@test.t', 'id': 1, 'is_varfarin': True, 'modified_date': '1990-01-25 23:59', 'name': 'Пример', 'surname': 'Примеров'},<br>{'age': 86, 'email': 'test2@test.t', 'id': 2, 'is_varfarin': False, 'modified_date': '1990-01-25 23:59', 'name': 'Пример', 'surname': 'Примеров'}<br><div style="margin-left: 6%">]}</div></div></li>
            <li>Описание: никаких данных не надо передовать</li>
        </ul>
        <li><b>Получить все данные обо одном пользователе</b></li>
        <ul>
            <li>Адрес: /api/users/&lt;user_id&gt;</li>
            <li>Метод: get</li>
            <li>Формат ответа в json: <div style="max-width: 90%">{'user': {<br>'age': 23, 'email': 'test@test.t', 'id': 1, 'is_varfarin': True, 'modified_date': '1990-01-25 23:59', 'name': 'Пример', 'surname': 'Примеров'<br><div style="margin-left: 6%">}}</div></div></li>
            <li>Описание: никаких данных не надо передовать</li>
        </ul>
        <li><b>Создать нового пользователя</b></li>
        <ul>
            <li>Адрес: /api/users</li>
            <li>Метод: post</li>
            <li>Формат запроса в json: <div style="max-width: 90%">{'surname': 'Примеров', 'name': 'Пример', 'age': 99, 'password': '123ghj 456', 'is_varfarin': True, 'email': 'test@test.t'<br>}</div></li>
            <li>Описание: На сервере в базе создаётся новый пользователь, проверяется на совпадение email</li>
        </ul>
        <li><b>Изменение существующего пользователя</b></li>
        <ul>
            <li>Адрес: /api/users&lt;user_id&gt;</li>
            <li>Метод: put</li>
            <li>Формат запроса в json: <div style="max-width: 90%">{'surname': 'Примеров', 'name': 'Пример', 'age': 99, 'password': '123ghj 456', 'is_varfarin': True<br>}</div></li>
            <li>Описание: Все параметры не обезательны, кроме password, будет проверка на совпадение паролей</li>
        </ul>
        <li><b>Удаление пользователя</b></li>
        <ul>
            <li>Адрес: /api/users&lt;user_id&gt;</li>
            <li>Метод: delete</li>
            <li>Формат запроса в json: <div style="max-width: 90%">{'password': '123ghj 456'<br>}</div></li>
            <li>Описание: Пользователь и всё, что с ним связанно исчезнут, будет проверка на совпадение паролей</li>
        </ul>
        <li><b>Получить всю базу с продуктами</b></li>
        <ul>
            <li>Адрес: /api/db/products</li>
            <li>Метод: get</li>
            <li>Формат ответа в json: <div style="max-width: 90%">{'products': [{'id': 0, 'is_varfarin': False, 'name': 'Выбрать', 'vitamin': 0.0},<br>{'id': 1, 'is_varfarin': False, 'name': 'Артишок', 'vitamin': '14,8'},<br>{'id': 2, 'is_varfarin': False, 'name': 'Артишок, вареный, с/без соли', 'vitamin': '14,8'},<br>{'id': 3, 'is_varfarin': False, 'name': 'Артишок замороженные, вареные, с солью', 'vitamin': '12,6'},<br>{'id': 4, 'is_varfarin': False, 'name': 'Базилик, свежий', 'vitamin': '414,8'}<br><div style="margin-left: 8%">]}</div></div></li>
            <li>Описание: <b>Важно!</b> если vitamin в базе - целое число, то vitamin будет отображаться <b>0.0</b> или <b>52.0</b>, а если vitamin в базе - НЕ целое число, то vitamin будет отображаться <b>'18,5'</b> или <b>'0.3'</b> (возможно скоро будет исправленно)</li>
        </ul>
        </ul>


    <p><b>При обнаружение каких-либо неполадок <a href="mailto:pavelpolkovnikov334@gmail.com">писать на почту</a></b></p>
</div>

{% endblock %}
